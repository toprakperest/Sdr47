{
  "system_id": "MesopotamiaSDR_v1.0",
  "mode": "STANDBY", // Initial mode, can be STANDBY, CALIBRATION, SCANNING
  "max_cpu_usage": 85.0,
  "max_memory_usage": 80.0,
  "max_restart_attempts": 3,
  "log_level": "INFO", // DEBUG, INFO, WARNING, ERROR, CRITICAL
  "log_directory": "logs",
  "model_directory": "models",
  "calibration_directory": "calibration_data",
  "save_directory": "scan_results",

  "hardware": {
    "sdr_driver_args": "", // Specify SoapySDR device arguments here, e.g., "driver=plutosdr"
    "lna_enabled": true,
    "lna_gain": 20 // Adjust based on LNA specs
  },

  "module_configs": {
    "sdr_receiver": {
      "device_args": "", // Overrides hardware.sdr_driver_args if set
      "channels": [0], // RX channel index
      "sample_rate": 20000000, // 20 MS/s
      "bandwidth": 15000000, // 15 MHz
      "default_gain": 30, // dB
      "default_antenna_rx": "UWB_RX1", // Matches name in config.py
      "default_antenna_tx": "UWB_TX1", // Matches name in config.py
      "noise_ref_antenna": "Dipole_RX2", // Antenna for noise/calibration
      "adaptive_gain": true,
      "lna_enabled": true, // Overrides hardware.lna_enabled if set
      "lna_gain": 20, // Overrides hardware.lna_gain if set
      "dsp": {
        "bandpass_low_hz": 300000000, // 300 MHz
        "bandpass_high_hz": 3000000000, // 3 GHz
        "notch_filter_enabled": false,
        "notch_freq_hz": 0,
        "notch_width_hz": 100000
      },
      "output_port": 5555, // Corresponds to PORT_SDR_DATA
      "control_port": 5556 // Corresponds to PORT_SDR_CONTROL
    },
    "calibration": {
      "input_port": 5555, // Receives data from sdr_receiver
      "result_port": 5560, // Publishes calibration results
      "control_port": 5561,
      "calibration_time_sec": 60,
      "calibration_sweeps": 20,
      "reference_data_path": "calibration_data/reference.pkl",
      "visualize": false,
      "noise_antenna": "Dipole_RX2",
      "scan_antenna": "UWB_RX1"
    },
    "preprocessing": { // Assuming a new preprocessing module
        "input_port": 5555, // From SDR Receiver
        "output_port": 5557, // To AI Classifier
        "control_port": 5565, // New port
        "max_depth_meters": 5.0,
        "algorithm_settings": {
            "echo_time_analysis": true,
            "phase_amplitude_analysis": true,
            "clutter_filter_level": 0.5 // 0=off, 1=max
        }
    },
    "ai_classifier": {
      "input_port": 5557, // Receives data from preprocessing
      "output_port": 5558,
      "control_port": 5559,
      "model_path": "models/detection_model_v1.h5", // Example path
      "confidence_threshold": 0.65,
      "false_positive_reduction": {
        "min_depth": 0.2, // Ignore detections shallower than 20cm
        "max_surface_clutter_depth": 0.3,
        "enable_hot_rock_filter": true,
        "enable_root_filter": true,
        "enable_metal_trash_filter": true
      }
    },
    "radar_ui": {
      "ai_input_port": 5558, // Receives detections from ai_classifier
      "calibration_input_port": 5560, // Receives ground info from calibration
      "control_port": 5562,
      "update_interval_ms": 100,
      "max_range_meters": 5.0,
      "default_view": "3D", // "2D" or "3D"
      "language": "tr", // "en" or "tr"
      "dark_mode": true,
      "fullscreen": false,
      "save_path": "scan_results"
    },
    "depth_3d_view": { // Configuration for the 3D view component if separate
        "ai_port": 5558,
        "calibration_port": 5560,
        "control_port": 5563,
        "backend": "pyvista", // "plotly", "pyvista", "simple"
        "update_interval_ms": 100,
        "max_depth": 5.0,
        "resolution": 100, // Voxel grid resolution
        "confidence_threshold": 0.65, // Sync with ai_classifier or override
        "dark_mode": true,
        "fullscreen": false,
        "save_path": "scan_results/screenshots"
    },
    "control_center": {
        // Configuration for the main control logic
        "ui_control_port": 5562,
        "sdr_control_port": 5556,
        "ai_control_port": 5559,
        "calibration_control_port": 5561
    },
    "mobile_sync": {
        "enabled": false,
        "sync_port": 5564,
        "sync_interval_sec": 1
    },
    "system_logger": {
        "log_level": "INFO",
        "log_directory": "logs",
        "max_log_size_mb": 10,
        "backup_count": 5
    },
    "monitoring": {
        "check_interval_sec": 10
    },
    "security": {
        // Security related configurations if any
    }
  },

  "scan_settings": {
      "frequency_range_mhz": [200.0, 3000.0],
      "default_scan_frequencies_mhz": [500, 1000, 1500, 2000], // Frequencies for multi-freq scan
      "scan_mode": "multi_frequency" // "single_frequency", "multi_frequency", "adaptive"
  },

  "visualization": {
      "color_map_ground": { 
          // Override default colors from config.py if needed
      },
      "color_map_detection": {
          // Override default colors from config.py if needed
      }
  }
}

